{% extends 'flatpages/default.html' %}

{% block title %}
üî•
{% endblock title %}

{% block content %}
   <h1 style="text-align: center;">–í—Å–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è</h1>
    <p style="text-align: center;">–ø–æ—Å—Ç–æ–≤: {{ posts|length }}</p>

{% for post in posts %}
    <p><a href="{% url 'post' post.id %}"><strong>{{ post.post_title }}</strong></a></p>
   <p>  {{ post.post_body | safe }}</p>  {# | safe –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å as-is #}
       <strong>–ê–≤—Ç–æ—Ä: </strong>{{ post.author.user }}
               <strong>üïó</strong>{{ post.post_datetime|date:'d M' }}
            <strong>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</strong>
    {{post.category.get_name_display}}

    {% if user.is_authenticated and post.author.user != user %}

        <button>
        <a class="nav-link" href="{% url 'add_comment' post.id %}">
            <h6><strong>–û—Ç–∫–ª–∏–∫–Ω—É—Ç—å—Å—è</strong></h6>
        </a>
        </button>

    {% elif user.is_authenticated and post.author.user == user %}

        <button>
        <a class="nav-link" href="{% url 'post' post.id %}">
            <h6><strong>–≠—Ç–æ –≤–∞—à–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ</strong></h6>
        </a>
        </button>


    {% endif %}
        <strong>–û—Ç–∫–ª–∏–∫–∏: </strong> {{ post.comment_set.all|length }}

       <hr />
{% endfor %}

    </p>
   {# –î–æ–±–∞–≤–ª—è–µ–º –ø–∞–≥–∏–Ω–∞—Ü–∏—é –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É #}

   {# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö #}
    <p style="text-align: center;">
   {% if page_obj.has_previous %}
       <a href="?page=1">1</a>
       {% if page_obj.previous_page_number != 1 %}
           ...
           <a href="?page={{ page_obj.previous_page_number }}">{{ page_obj.previous_page_number }}</a>
       {% endif %}
   {% endif %}

   {# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ #}
   {{ page_obj.number }}

   {# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–ª–µ–¥—É—é—â–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö #}
   {% if page_obj.has_next %}
       <a href="?page={{ page_obj.next_page_number }}">{{ page_obj.next_page_number }}</a>
       {% if paginator.num_pages != page_obj.next_page_number %}
           ...
           <a href="?page={{ page_obj.paginator.num_pages }}">{{ page_obj.paginator.num_pages }}</a>
       {% endif %}
   {% endif %}
</p>


{% endblock content %}